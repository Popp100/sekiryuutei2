function a0_0x54e0(_0x137819,_0x35784f){const _0x163b11=a0_0x163b();return a0_0x54e0=function(_0x54e0ae,_0x5def65){_0x54e0ae=_0x54e0ae-0x154;let _0x148ccb=_0x163b11[_0x54e0ae];return _0x148ccb;},a0_0x54e0(_0x137819,_0x35784f);}const a0_0xd10919=a0_0x54e0;(function(_0x2f5804,_0x52f27f){const _0x252f01=a0_0x54e0,_0x272e5f=_0x2f5804();while(!![]){try{const _0x45f569=-parseInt(_0x252f01(0x16f))/0x1*(-parseInt(_0x252f01(0x164))/0x2)+parseInt(_0x252f01(0x156))/0x3+-parseInt(_0x252f01(0x161))/0x4+-parseInt(_0x252f01(0x159))/0x5+parseInt(_0x252f01(0x169))/0x6*(parseInt(_0x252f01(0x154))/0x7)+-parseInt(_0x252f01(0x155))/0x8+-parseInt(_0x252f01(0x15b))/0x9;if(_0x45f569===_0x52f27f)break;else _0x272e5f['push'](_0x272e5f['shift']());}catch(_0x4a1c14){_0x272e5f['push'](_0x272e5f['shift']());}}}(a0_0x163b,0x2e99d),require(a0_0xd10919(0x162))[a0_0xd10919(0x167)]());const {Pool}=require('pg'),s=require('../set');var dbUrl=s['DATABASE_URL']?s[a0_0xd10919(0x166)]:'postgres://db_7xp9_user:6hwmTN7rGPNsjlBEHyX49CXwrG7cDeYi@dpg-cj7ldu5jeehc73b2p7g0-a.oregon-postgres.render.com/db_7xp9';const proConfig={'connectionString':dbUrl,'ssl':{'rejectUnauthorized':![]}},pool=new Pool(proConfig),creerTableAfk=async()=>{const _0x10a36c=a0_0xd10919;try{await pool[_0x10a36c(0x15a)]('\x0a\x20\x20\x20\x20\x20\x20\x20\x20CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20afk\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20id\x20serial\x20PRIMARY\x20KEY,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20etat\x20text\x20DEFAULT\x20\x27off\x27,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20message\x20text,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20lien\x20text\x0a\x20\x20\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20\x20\x20'),console['log'](_0x10a36c(0x16d));}catch(_0x7cd848){console[_0x10a36c(0x16b)](_0x10a36c(0x160),_0x7cd848);}};creerTableAfk();async function addOrUpdateAfk(_0x47ca7c,_0x511891,_0xb3a867){const _0x14021a=a0_0xd10919;try{await pool[_0x14021a(0x15a)](_0x14021a(0x16a),[_0x47ca7c,_0x511891,_0xb3a867]),console[_0x14021a(0x15f)]('L\x27enregistrement\x20AFK\x20a\x20été\x20ajouté\x20ou\x20mis\x20à\x20jour\x20avec\x20succès.');}catch(_0x83e247){console['error']('Une\x20erreur\x20est\x20survenue\x20lors\x20de\x20l\x27ajout\x20ou\x20de\x20la\x20mise\x20à\x20jour\x20de\x20l\x27enregistrement\x20AFK:',_0x83e247);}}async function getAfkById(_0x4badc7){const _0x52c794=a0_0xd10919;try{const {rows:_0xa34bc8}=await pool[_0x52c794(0x15a)]('\x0a\x20\x20\x20\x20\x20\x20\x20\x20SELECT\x20*\x20FROM\x20afk\x0a\x20\x20\x20\x20\x20\x20\x20\x20WHERE\x20id\x20=\x20$1;\x0a\x20\x20\x20\x20\x20\x20',[_0x4badc7]);return _0xa34bc8[0x0];}catch(_0x57d863){return console[_0x52c794(0x16b)](_0x52c794(0x157),_0x57d863),null;}}function a0_0x163b(){const _0x6a122e=['\x0a\x20\x20\x20\x20\x20\x20\x20\x20UPDATE\x20afk\x0a\x20\x20\x20\x20\x20\x20\x20\x20SET\x20etat\x20=\x20$1\x0a\x20\x20\x20\x20\x20\x20\x20\x20WHERE\x20id\x20=\x20$2\x0a\x20\x20\x20\x20\x20\x20\x20\x20RETURNING\x20*;\x0a\x20\x20\x20\x20\x20\x20','rows','succes','log','Une\x20erreur\x20est\x20survenue\x20lors\x20de\x20la\x20création\x20de\x20la\x20table\x20\x27afk\x27:','731640VKSeOt','dotenv','L\x27état\x20de\x20l\x27enregistrement\x20AFK\x20a\x20été\x20modifié\x20avec\x20succès.','418MUpBkB','exports','DATABASE_URL','config','not\x20defined','5772rMFiLl','\x0a\x20\x20\x20\x20\x20\x20\x20\x20INSERT\x20INTO\x20afk\x20(id,\x20message,\x20lien)\x0a\x20\x20\x20\x20\x20\x20\x20\x20VALUES\x20($1,\x20$2,\x20$3)\x0a\x20\x20\x20\x20\x20\x20\x20\x20ON\x20CONFLICT\x20(id)\x0a\x20\x20\x20\x20\x20\x20\x20\x20DO\x20UPDATE\x20SET\x20message\x20=\x20$2,\x20lien\x20=\x20$3;\x0a\x20\x20\x20\x20\x20\x20','error','L\x27enregistrement\x20AFK\x20n\x27existe\x20pas.','La\x20table\x20\x27afk\x27\x20a\x20été\x20créée\x20avec\x20succès.','Une\x20erreur\x20est\x20survenue\x20lors\x20du\x20changement\x20de\x20l\x27état\x20de\x20l\x27enregistrement\x20AFK:','1819pwwuRj','2527qyDFOp','1457160CwiVsW','739161uHsgij','Une\x20erreur\x20est\x20survenue\x20lors\x20de\x20la\x20récupération\x20de\x20l\x27enregistrement\x20AFK\x20par\x20ID:','length','480340gAWkdm','query','2896560hIzYzb'];a0_0x163b=function(){return _0x6a122e;};return a0_0x163b();};async function changeAfkState(_0x2fe3c5,_0xd8bd71){const _0x20ca64=a0_0xd10919;try{const _0x49e184=await pool['query'](_0x20ca64(0x15c),[_0xd8bd71,_0x2fe3c5]);return _0x49e184[_0x20ca64(0x15d)][_0x20ca64(0x158)]===0x0?(console[_0x20ca64(0x15f)](_0x20ca64(0x16c)),_0x20ca64(0x168)):(console['log'](_0x20ca64(0x163)),_0x20ca64(0x15e));}catch(_0x361236){console[_0x20ca64(0x16b)](_0x20ca64(0x16e),_0x361236);}}module[a0_0xd10919(0x165)]={'addOrUpdateAfk':addOrUpdateAfk,'getAfkById':getAfkById,'changeAfkState':changeAfkState};
